1.檔案權限:

  一個檔案，可以由三種人來看，來存取，和運作，這三種人分別是:
  
  1.檔案擁有者
  
  2.群組

  3.其他人

 (4.root大神，他想幹嘛就幹嘛，不受檔案權限限制)

  注意: 若嘗試開啟一檔案時，出現permission denied，則代表你沒有這個權限

  檔案權限表示:
               ex -rwxrwx--- 5 root root 128 May 4 12:30 .

                  [檔案讀取 [連結 [屬於 [屬於哪 [檔案 [最後 [檔名]  
                   權限]     節點  誰]   個群組] 大小] 修改               
                             數目]                     時間]


  檔案讀取權限:以-rwxr-xr--為例，分成四大塊，十等分(※注意:第二塊到第四塊的r,w,x所代表意義和順序皆相同，若有出現-，則表示那塊的代表不具該權限)
               
  第一塊(共一等分):類型，有以下幾種
         
         	  -:一般檔案
         	  d:目錄
         	  c:熱拔插設備檔
         	  b:隨身存取裝置
         	  l:連結檔
           
  第二塊(共三等份):檔案擁有者的權限，有以下幾種
                  
                  r:可讀
                  w:可改
                  x:可執行
                  
                  因此，以上方的例子而言:表示檔案擁有者可讀，可改，可執行(因rwx)

  第三塊(共三等份):加入此群組的帳號之權限，類別同第二塊

                   在此例中，此群組中的所有帳號可讀，可執行，但不能改(因r-x)

  第四塊(共三等份):不是此檔案擁有者也不是此檔案之所屬群組的一員的權限，類別同第二塊和第三塊

                   在此例中，這個"其他人"的權限只可讀，但不可改，也不可執行(因r--)                   


  (注意:目錄和檔案的權限意義不相同，是因為這兩者所儲存的資料並不一樣)


  連結節點數目:(仍無法理解)(2016/2/25學)
	
	 	   "每個檔案都會將他的權限與屬性記錄到檔案系統的i-node中，不過，我們使用的目錄樹卻是使用檔名來記錄， 因此每個檔名就會連結到一個i-node囉！這個屬性記錄的                     就是有多少不同的檔名連結到相同的一個i-node號碼去就是了。 關於i-node的相關資料我們會在第七章談到檔案系統時再加強介紹的。"


  屬於誰&屬於哪個群組:看字面意思吧

   
  檔案大小:以byte為單位

   
  最後修改時間:最近的才會顯示到幾時幾分幾秒，太遠的只會顯示到哪一年哪一月哪一日(若要看完整時間，請輸入ls -l --full-time)


   
2.個人帳號資訊(位於/etc/shadow)
  
  群組資訊(位於/etc/group)
 
  所有帳號的資訊(包括root大神)(位於/etc/passwd)
  
  新增帳號：useradd 帳號名
  
  新帳號新增密碼：passwd 帳號名


3.檔案&目錄的權限之深入探討:

  檔案:(紀錄資料)(可比喻成裝資料的牛皮紙袋)

       r:可讀取，如讀取文字檔"內容"

       w:可修改，新增，和編輯該檔案的"內容"(!!!!!!!!!；但是，不包含"刪除"這個選項

       x:使該檔案可以被系統執行，但是，在Linux裡，一個檔案能否被執行，是要看有沒有"x"存在，而"不是"看他的副檔名[看副檔名是windows的東西，如:.exe,.......]


  目錄:(記錄檔名)(可比喻成放牛皮紙袋的抽屜)
       
       r:可以看到此目錄和其所有的檔名(就是可以看這目錄有甚麼咚咚)

       w:可以修改，新增，和編輯，但是，(!!!!!!!!!;，也"包括"刪除這個選項
      更加完整版:
    		建立新的檔案與目錄；
    		
		刪除已經存在的檔案與目錄(不論該檔案的權限為何！)
    				
		將已存在的檔案或目錄進行更名；
    		
		搬移該目錄內的檔案、目錄位置。
 
       x:可以進入此目錄(也就是說，沒有x，就算有r和w也沒用)



   總整理:
	   	      內容	 疊代物件	     r	               w	      x

	   檔案	  詳細資料data	文件資料夾	讀到文件內容	修改文件內容	執行文件內容

	   目錄	      檔名	可分類抽屜	讀到檔名	修改檔名	進入該目錄的權限(key)
      

   注意:若要做網路伺服器，如:FTP,......，如果有提供他人下載檔案的服務，記得將目錄中，對於"其他人"(other)的權限設為"r-x"，若只有r，則別人只能看著檔案流口水，而不能下載

   注意:目錄的權限不能亂設，如同上表的比喻，別人沒有某檔案的權限，但如果他有該檔案的"目錄"的權限，那他就能把檔案"刪掉"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

        例如:你用牛皮紙袋把重要資料放在裡面，這個牛皮紙袋，對沒有權限的人而言，沒辦法打開，你把這牛皮紙袋鎖進一個抽屜裡；如果有小偷來偷東西，他有抽屜鑰匙，
           
             當她想要看牛皮紙袋裡放什麼的時候，發現打不開，所以他就惱羞，把整個牛皮紙袋連同重要資料一起丟到垃圾桶了(此例中，小偷對檔案權限為---，但他對目錄權限為-w-)


4.檔案執行的迷思:"可以被執行"(就是有"x")跟"可以執行成功"是不一樣的～舉例來說，在root家目錄下的 initial-setup-ks.cfg 是一個純文字檔，如果經由修改權限成為 -rwxrwxrwx 後		  ，這個檔案能夠真的執行成功嗎？ 當然不行～"因為他的內容根本就沒有可以執行的資料"。
      
	  所以說，這個x代表這個檔案具有可執行的能力， 但是能不能執行成功，當然就得要看該檔案的內容囉!

5.檔名長度:單一檔案或目錄的最大容許檔名為 255bytes，以ASCII英文而言，檔名可打255個，但中文只有128個

            注意:檔名請盡可能不要有特殊符號，因為Linux可能會把它和指令搞混


6.目錄的規定:FHS(Filesystem Hierarchy Standard)(FHS)依據檔案系統使用的頻繁與否與是否允許使用者隨意更動， 而將目錄定義成為四種交互作用的形態:

			可分享的(shareable)		不可分享的(unshareable)

不變的(static)		/usr (軟體放置處)		/etc (設定檔)
			/opt (第三方協力軟體)		/boot (開機與核心檔)

可變動的(variable)	/var/mail (使用者郵件信箱)	/var/run (程序相關)
			/var/spool/news (新聞群組)	/var/lock (程序相關)

事實上，FHS針對目錄樹架構僅定義出"三層"目錄底下應該放置什麼資料而已，分別是:

    1./ (root, 根目錄)：與開機系統有關；

    2./usr (unix software resource)：與軟體安裝/執行有關；
    
    3./var (variable)：與系統運作過程有關。


1.根目錄:根目錄與"開機/還原/系統修復"等動作有關。 

	 由於系統開機時需要特定的開機軟體、核心檔案、開機所需程式、函式庫等等檔案資料，若系統出現錯誤時，根目錄也必須要包含有能夠修復檔案系統的程式才行。
	 
	 根目錄(/)所在分割槽應該越小越好， 且應用程式所安裝的軟體最好不要與根目錄放在同一個分割槽內，保持根目錄越小越好。 如此不但效能較佳，根目錄所在的檔案系統也較不
	 容易發生問題。


根目錄底下的目錄:

1.重要性:極高


	/bin	系統有很多放置執行檔的目錄，但/bin比較特殊。因為/bin放置的是在"單人維護模式下還能夠被操作的指令"。 在/bin底下的指令可以被"root"與"一般帳號"所使用，
        	主要有：cat,chmod, chown, date, mv, mkdir, cp, bash等等常用的指令。

	/boot	這個目錄主要在放置"開機"會使用到的檔案，包括Linux核心檔案以及開機選單與開機所需設定檔等等。 
		Linux kernel常用的檔名為：vmlinuz，如果使用的是grub2這個開機管理程式， 則還會存在/boot/grub2/這個目錄喔！

	/dev	在Linux系統上，任何裝置與周邊設備都是以"檔案"的型態存在於這個目錄當中的。 只要透過存取這個目錄底下的某個檔案，就等於存取某個裝置; 
		重要的檔案有/dev/null, /dev/zero, /dev/tty, /dev/loop*, /dev/sd*等等

	/etc	系統主要的設定檔幾乎都放置在這個目錄內，例如人員的帳號密碼檔(passwd)、 各種服務的啟始檔等等。一般來說，這個目錄下的各檔案屬性是可以讓"一般使用者"查閱的			， 但是只有"root"有權力修改。FHS建議不要放置可執行檔(binary)在這個目錄中喔。
	
		重要的檔案有： /etc/modprobe.d/, /etc/passwd, /etc/fstab, /etc/issue 等等。另外 FHS 還規範幾個重要的目錄最好要存在 /etc/ 目錄下喔：

        /etc/opt(必要)：這個目錄在放置第三方協力軟體 /opt 的相關設定檔
 
        /etc/X11/(建議)：與 "X Window" 有關的各種設定檔都在這裡，尤其是 xorg.conf 這個 X Server 的設定檔。
    
        /etc/sgml/(建議)：與 SGML 格式有關的各項設定檔
    
        /etc/xml/(建議)：與 XML 格式有關的各項設定檔


	/lib	系統的函式庫非常的多，而/lib放置的則是在"開機時會用到的函式庫"， 以及在"/bin或/sbin底下的指令會呼叫"的函式庫而已。 
        	
        	什麼是函式庫呢？妳可以將他想成是『外掛』，某些指令必須要有這些『外掛』才能夠順利完成程式的執行之意。 另外 FSH 還要求底下的目錄必須要存在：

        /lib/modules/：這個目錄主要放置可抽換式的核心相關模組(驅動程式)喔！


	/media	這個/media底下放置的就是"可移除的裝置"啦！ 包括軟碟、光碟、DVD等等裝置都暫時掛載於此。

	        常見的檔名有：/media/floppy, /media/cdrom等等。

	/mnt	如果妳想要"暫時"掛載某些額外的裝置，一般建議妳可以放置到這個目錄中。 在古早時候，這個目錄的用途與/media相同啦！只是有了/media之後，這個目錄就用來暫時掛			載用了。

	/opt	這個是給"第三方協力軟體"放置的目錄。

		什麼是第三方協力軟體啊？ 舉例來說，KDE這個桌面管理系統是一個獨立的計畫，不過他可以安裝到Linux系統中，因此KDE的軟體就建議放置到此目錄下了。

		另外，如果妳想要自行安裝額外的軟體(非原本的distribution提供的)，那麼也能夠將你的軟體安裝到這裡來。 不過，以前的Linux系統中，我們還是習慣放置		
		在/usr/local目錄下	
	
	/run	早期的 FHS 規定系統開機後所產生的各項資訊應該要放置到 /var/run 目錄下，新版的 FHS 則規範到 /run 底下。 
		
		由於 /run 可以使用記憶體來模擬，因此效能上會好很多！

	/sbin	Linux有非常多指令是用來設定系統環境的，這些指令只有"root"才能夠利用來『設定』系統，"其他使用者"最多只能用來『查詢』而已。 放在/sbin底下的為開機過程中所			需要的，裡面包括了開機、修復、還原系統所需要的指令。 至於某些伺服器軟體程式，一般則放置到/usr/sbin/當中。至於本機自行安裝的軟體所產生的系統執行檔			(system binary)， 則放置到/usr/local/sbin/當中了。常見的指令包括：fdisk, fsck, ifconfig, mkfs等等。

	/srv	srv可以視為『service』的縮寫，是一些網路服務啟動之後，這些服務所需要取用的資料目錄。 常見的服務例如WWW, FTP等等。舉例來說，WWW伺服器需要的網頁資料就可			以放置在/srv/www/裡面。 不過，系統的服務資料如果"尚未"要提供給網際網路任何人瀏覽的話，預設還是建議放置到 /var/lib 底下即可。

	/tmp	這是讓一般使用者或者是正在執行的程序暫時放置檔案的地方。 這個目錄是"任何人"都能夠存取的，所以你需要定期的清理一下。當然，重要資料不可放置在此目錄啊！ 			因為FHS甚至建議在開機時，應該要將/tmp下的資料都刪除唷！

	/usr	第二層 FHS 設定，後續介紹

	/var	第二曾 FHS 設定，主要為放置變動性的資料，後續介紹


2.重要性:普通

	/home	這是系統預設的使用者家目錄(home directory)。在你新增一個一般使用者帳號時， 預設的使用者家目錄都會規範到這裡來。比較重要的是，家目錄有兩種代號喔：

	   	 ~：代表目前這個使用者的家目錄
	    	 ~dmtsai ：則代表 dmtsai 的家目錄！

	/lib<qual> 用來存放與 /lib 不同的格式的二進位函式庫，例如支援 64 位元的 "/lib64" 函式庫等

	/root	系統管理員(root)的家目錄。之所以放在這裡，是因為如果進入單人維護模式而僅掛載根目錄時， 該目錄就能夠擁有root的家目錄，所以我們會希望root的家目錄與根目錄		放置在同一個分割槽中。

2./usr:/usr裡面放置的資料屬於可分享的與不可變動的(shareable, static)，很多人都會誤會/usr為user的縮寫，其實usr是Unix Software Resource的縮寫， 也就是『Unix作業系統軟體         
       資源』所放置的目錄，而不是使用者的資料啦！

       這個目錄有點類似Windows 系統的『C:\Windows\ (當中的一部份) + C:\Program files\』這兩個目錄的綜合體，系統剛安裝完畢時，這個目錄會佔用最多的硬碟容量。

/usr底下的目錄:

1.重要性:極高

	/usr/bin/	"所有一般用戶"能夠使用的指令都放在這裡！目前新的 CentOS 7 已經將全部的使用者指令放置於此，而使用"連結檔"的方式將 /bin 連結至此！ 也就是說， 			
			"/usr/bin" 與 "/bin" 是一模一樣了！另外，FHS 要求在此目錄下"不"應該有子目錄！

	/usr/lib/	基本上，與 /lib 功能相同，所以 /lib 就是連結到此目錄中的！

	/usr/local/	系統管理員在本機自行安裝自己下載的軟體(非distribution預設提供者)，建議安裝到此目錄， 這樣會比較便於管理。
			
			舉例來說，你的distribution提供的軟體較舊，你想安裝較新的軟體但又不想移除舊版， 此時你可以將新版軟體安裝於/usr/local/目錄下，可與原先的舊版軟體
			有分別啦！ 你可以自行到/usr/local去看看，該目錄下也是具有"bin, etc, include, lib..."的次目錄喔！

	/usr/sbin/	非系統正常運作所需要的系統指令。最常見的就是某些網路伺服器軟體的"服務指令"(daemon)囉！不過基本功能與 /sbin 也差不多， 因此目前 /sbin 就是連結到				此目錄中的。

	/usr/share/	主要放置"唯讀"架構的資料檔案，當然也包括"共享文件"。在這個目錄下放置的資料幾乎是不分硬體架構均可讀取的資料， 因為幾乎都是"文字檔案"嘛！在此目錄				下常見的還有這些次目錄：

			    /usr/share/man：線上說明文件
    
			    /usr/share/doc：軟體雜項的文件說明

			    /usr/share/zoneinfo：與時區有關的時區檔案

2.重要性:普通

	/usr/games/	與遊戲比較相關的資料放置處

	/usr/include/	c/c++等程式語言的檔頭(header)與包含檔(include)放置處，當我們以tarball方式 (*.tar.gz 的方式安裝軟體)安裝某些資料時，會使用到裡頭的許多包含檔喔！
	
	/usr/libexec/	某些不被一般使用者慣用的執行檔或腳本(script)等等，都會放置在此目錄中。例如大部分的 X 視窗底下的操作指令， 很多都是放在此目錄下的。

	/usr/lib<qual>/	與 /lib<qual>/功能相同，因此目前 /lib<qual> 就是連結到此目錄中

	/usr/src/	一般原始碼建議放置到這裡，src有source的意思。至於"核心"原始碼則建議放置到/usr/src/linux/目錄下。


3./var:/var就是在系統運作後才會漸漸佔用硬碟容量的目錄。包括快取(cache)、登錄檔(log file)以及某些軟體運作所產生的檔案， 包括程序檔案(lock file, run file)，或者例如MySQL
	
       資料庫的檔案等等

/var底下的目錄:

1.重要性:極高
	/var/cache/	應用程式本身運作過程中會產生的一些暫存檔；

	/var/lib/	程式本身執行的過程中，需要使用到的資料檔案放置的目錄。在此目錄下各自的軟體應該要有各自的目錄。 
			
			舉例來說，MySQL的資料庫放置到/var/lib/mysql/;而rpm的資料庫則放到/var/lib/rpm去！

	/var/lock/	某些裝置或者是檔案資源一次只能被一個應用程式所使用，如果同時有兩個程式使用該裝置時， 就可能產生一些錯誤的狀況，因此就得要將該裝置上鎖(lock)，以				確保該裝置只會給單一軟體所使用。
			
			舉例來說，燒錄機正在燒錄一塊光碟，你想一下，會不會有兩個人同時在使用一個燒錄機燒片？ 如果兩個人同時燒錄，那片子寫入的是誰的資料？所以當第一個				人在燒錄時該燒錄機就會被上鎖， 第二個人就得要該裝置被解除鎖定(就是前一個人用完了)才能夠繼續使用囉。目前此目錄也已經挪到 /run/lock 中！

	/var/log/	重要到不行！這是登錄檔放置的目錄！裡面比較重要的檔案如/var/log/messages, /var/log/wtmp(記錄登入者的資訊)等。

	/var/mail/	放置個人電子郵件信箱的目錄，不過這個目錄也被放置到/var/spool/mail/目錄中！ 通常這兩個目錄是互為連結檔啦！

	/var/run/	某些程式或者是服務啟動後，會將他們的PID放置在這個目錄下喔！至於PID的意義我們會在後續章節提到的。 與 /run 相同，這個目錄連結到 /run 去了！

	/var/spool/	這個目錄通常放置一些佇列資料，所謂的『佇列』就是排隊等待其他程式使用的資料啦！ 這些資料被使用後通常都會被刪除。舉例來說，系統收到新信會放置			
			到/var/spool/mail/中， 但使用者收下該信件後該封信原則上就會被刪除。信件如果暫時寄不出去會被放到/var/spool/mqueue/中， 等到被送出後就被刪除。如			
			果是工作排程資料(crontab)，就會被放置到/var/spool/cron/目錄中！



7.相對路徑和絕對路徑:
		
    			絕對路徑：路徑的寫法『一定由根目錄 / 寫起』，例如： /usr/share/doc 這個目錄。
    
   		 	相對路徑：路徑的寫法『不是由 / 寫起』，例如由 /usr/share/doc 要到 /usr/share/man 底下時，可以寫成： 『cd ../man』這就是相對路徑的寫法啦！相對路			
			徑意指『相對於目前工作目錄的路徑！』

8.目錄的進階操作:
			.         代表此層目錄
	
			..        代表上一層目錄
			
			-         代表前一個工作目錄
			
			~         代表『目前使用者身份』所在的家目錄
			
			~account  代表 account 這個使用者的家目錄(account是個帳號名稱)

			兩個方法都能夠執行"某指令":(ex:要執行ls,且所用的帳號在/bin這個目錄)
			
			注意:ls是在bin這個目錄底下

			1.絕對路徑:/bin/ls

			2.相對路徑:../ls

9.PATH的觀念:	
			1.PATH會隨使用者的不同而有所不同

			2.PATH是可以改變的(PATH="$PATH:/要加入的目錄")
			
			3.別將本目錄(.)加入PATH之中(怕會有安全問題)

			4.指令要放在正確的目錄之下，比較好用

			5.用絕對路徑或相對路徑來找東西，比找PATH還正確

10.cp的觀念:
			1.某些需要特別注意的特殊權限檔案， 例如"密碼檔 (/etc/shadow)" 以及一些"設定檔"，就不能直接以 cp 來複製，而必須要加上 "-a" 或者是 "-p" 等等可以
			  完整複製檔案權限的選項才行！
